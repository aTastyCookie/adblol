<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8"/>
  <title>Recorded Video of #device</title>
  <link rel="stylesheet" type="text/css" href="common.css">
  <style>
    .toolbar > a[href$="fileindex=@fileindex"] {visibility: hidden}
    .toolbar > a[href*="fileindex=@fileindex&"] {visibility: hidden}
  </style>
</head>
<body>
  <div style="position: fixed; left: 1px; top: 1px; z-index: 1">
    #typeDisp
  </div>
  <div style="position: fixed; right: 1px; top: 1px; z-index: 2">
    <a href="/downloadRecordedFile?unprotect&device=@device&accessKey=@accessKey&filename=@origFilename" target="resultIFrame">Download</a>
  </div>
  <div style="text-align: center; width: 100%; position: fixed; top:0">
    <div class="toolbar">
      <a href="@pathname?unprotect&device=@device&accessKey=@accessKey&fileindex=@maxFileindex&fps=@fps">
        &lt;&lt;
      </a>
      <a href="@pathname?unprotect&device=@device&accessKey=@accessKey&fileindex=@olderFileindex&fps=@fps">
        &lt;
      </a>
      <span class="fileDesc">@timestamp</span>
      <a href="@pathname?unprotect&device=@device&accessKey=@accessKey&fileindex=@newerFileindex&fps=@fps">
        &gt;
      </a>
      <a href="@pathname?unprotect&device=@device&accessKey=@accessKey&fileindex=0&fps=@fps">
        &gt;&gt;
      </a>
      (Total:<b style="color:blue">@fileCount</b>)
    </div>
    <div style="position: absolute; width: 100%; text-align: right">
      <a class="button" href="/saveImage?unprotect&device=@device&accessKey=@accessKey&filename=@origFilename&playerId=@playerId" target="resultIFrame" title="Save Current Image To File On Server">
        Save Image
      </a>
      <a href="/listSavedImages?unprotect&device=@device&accessKey=@accessKey&type=@imageType&order=desc" target="list saved images $device" title="List All Saved Images">Saved Images</a>&nbsp;&nbsp;
    </div>
    <iframe class="toolbar" name="resultIFrame"></iframe>
    <div style="float: right; text-align: right">
      <div><button onclick="rotateLocally(document.getElementById('viewer'), document.getElementById('viewerContainer'))">Rotate Locally</button></div>
      <div><button onclick="scaleLocally(document.getElementById('viewerContainer'))">Scale Locally</button></div>
      <div class="expandable" style="background-color: inherit; border: none; padding-right: 4px">
        <div style="width: 40px; padding-right: 6px">Rate</div>
        <div>
          <form class="toolbar">
            <input type="hidden" name="device" value="#device"/>
            <input type="hidden" name="accessKey" value="#accessKey"/>
            <input type="hidden" name="adminKey" value="#adminKey"/>
            <input type="hidden" name="filename" value="@origFilename"/>

            <button type="submit">Using</button>
            <label class="infoWithTip" title="Frames per Second. @MIN_FPS >= value <= @MAX_FPS">
              Rate<input type="text" name="fps" size="3" value="@fps"/>
            </label>
          </form>
        </div>
      </div>
    </div>
  </div>
  <table id="viewerContainer" align="center" style="margin-top: 56px">
    <tr><td align="center">
    <img id="viewer" src="/playRecordedFile?unprotect&device=@device&accessKey=@accessKey&filename=@origFilename&fps=@fps&playerId=@playerId"/>
    </td></tr>
  </table>
  <script src="jquery-2.0.3.js" type="text/javascript"></script>
  <script src="common.js" type="text/javascript"></script>
</body>
</html>